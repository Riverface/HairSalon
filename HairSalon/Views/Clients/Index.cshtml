@{
Layout = "_Layout";
}
@using HairSalon.Models;
@model List<HairSalon.Models.Client>

  <h1>clients</h1>

  @if (@ViewBag.clients.Count == 0)
  {
   <h3>No clients have been added yet!</h3>
  }

  else{
  <table>
    <tr>
      <td>
        ID
      </td>
      <td>Name</td>
      <td>Stylist Name</td>
    </tr>

    @foreach (Client client in ViewBag.clients)
    {
    <tr>
      <td>@client.ClientId</td>
      <td>@Html.ActionLink($"{client.Name}", "Details", new { id = client.ClientId })</td>

      @foreach (Stylist stylist in ViewBag.stylists)
      {

        @if(stylist.StylistId == client.StylistId)
        {
        <td>@Html.ActionLink($"{@stylist.Name}", "Details", "stylists", new { id = client.StylistId })</td>
        }

      }

    </tr>

    }
 
  </table>
  }

  <p>@Html.ActionLink("Add new Client", "Create")</p>
  <p>@Html.ActionLink("Home", "Index", "Home")</p>